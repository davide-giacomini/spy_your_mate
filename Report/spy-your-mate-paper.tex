\documentclass[10pt, conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
% \usepackage{algorithmic}
\usepackage{graphicx, wrapfig, subcaption}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage[numbers]{natbib} % Manual of natbib at https://gking.harvard.edu/files/natnotes2.pdf
\usepackage[hidelinks]{hyperref}
\usepackage[OT1]{fontenc}
\usepackage{setspace}
\begin{document}

\newcommand{\polimi}{Polytechnic University of Milan}
\newcommand{\deib}{Deparment of Electronics, Information and Bioengineering}

\title{Spy Your Mate\\
{\small Project Report --- 054327 - Wireless Internet $\mid$ 054323 - Internet of Things}
% \thanks{Identify applicable funding agency here. If none, delete this.}
}

\author{\IEEEauthorblockN{Davide Giacomini}
\IEEEauthorblockA{\textit{\polimi\space(PoliMi)} \\
\textit{\deib}\\
\textit{Milan (MI), Italy} \\
\textit{\today} \\
% giacomini.davide@outlook.com
}
% \\
% \IEEEauthorblockN{Jake Campbell}
% \IEEEauthorblockA{\textit{dept. of Engineering} \\
% \textit{University of Illinois at Chicago (UIC)}\\
% Chicago (IL), USA \\
% jacobpmcampbell@gmail.com}
% \and
% \IEEEauthorblockN{Sem Belay}
% \IEEEauthorblockA{\textit{dept. of Engineering} \\
% \textit{University of Illinois at Chicago (UIC)}\\
% Chicago (IL), USA \\
% sbelay2@uic.edu}
% \\
% \IEEEauthorblockN{Alejandro Dorvall}
% \IEEEauthorblockA{\textit{dept. of Engineering} \\
% \textit{University of Illinois at Chicago (UIC)}\\
% Chicago (IL), USA \\
% adorva2@uic.edu}
% \and
% \IEEEauthorblockN{5\textsuperscript{th} Given Name Surname}
% \IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
% \textit{name of organization (of Aff.)}\\
% City, Country \\
% email address or ORCID}
% \and
% \IEEEauthorblockN{6\textsuperscript{th} Given Name Surname}
% \IEEEauthorblockA{\textit{dept. name of organization (of Aff.)} \\
% \textit{name of organization (of Aff.)}\\
% City, Country \\
% email address or ORCID}
}

\maketitle
\thispagestyle{plain}
\pagestyle{plain}
% \onehalfspacing

\begin{abstract}
    After a global pandemic, video streaming calls have become the normality in every situation. Even though the major providers usually encrypt the traffic, some information can be extracted by the packets that are sent between the parties through the internet. By aggregating the packets of a conversation and analyzing some of their features through a ML algorithm, we can infer if somebody is present in front of the camera or there is nobody.
\end{abstract}

\input{sections/introduction.tex}

\begin{table*}[t]
    \centering
    \begin{tabular}{| c ||c c c c||}
     \hline
      & Zoom IP Address & Zoom UDP Port & Local IP Address & Local UDP Port \\
     \hline\hline
     Capture 1 & 149.137.11.203 & 8801 & 192.168.1.15 & 60235 \\ 
     \hline
     Capture 2 & 149.137.11.142 & 8801 & 192.168.1.15 & 51541 \\
     \hline
     Capture 3 & 149.137.10.223 & 8801 & 192.168.1.15 & 52409 \\ 
     \hline
    \end{tabular}
    \caption{Addresses for each capture.}
    \label{table:table-addresses}
\end{table*}

\begin{figure*}[t]
    \centering
    \begin{subfigure}[b]{.33\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/prediction_with_basic_features_cropped.png}
        \caption{First Attempt}
        \label{fig:chart-first-attempt}
    \end{subfigure}%
    \begin{subfigure}[b]{.33\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/prediction_with_inbound_and_outbound_features_cropped.png}
        \caption{Second Attempt}
        \label{fig:chart-second-attempt}
    \end{subfigure}
    \begin{subfigure}[b]{.33\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/prediction_with_inbound_and_outbound_features_bitrate_cropped.png}
        \caption{Last Attempt}
        \label{fig:chart-third-attempt}
    \end{subfigure}
    \caption{Node-RED charts for comparison with ground truth}
    \label{fig:charts-node-red}
\end{figure*}

\begin{figure*}[t]
    \centering
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/learning_curve_basic_features_log_regr.png}
        \caption{Logistic Regression Curve}
        \label{fig:learning-curves-first-attempt-randfor}
    \end{subfigure}%
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/learning_curve_basic_features_rand_for.png}
        \caption{Random Forest Curve}
        \label{fig:learning-curves-first-attempt-logreg}
    \end{subfigure}
    \caption{Learning curves in the first attempt}
    \label{fig:learning-curves-first-attempt}
\end{figure*}

\begin{figure*}[t]
    \centering
    \begin{subfigure}[b]{.45\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/confusion_matrix_basic_features_logreg.png}
        \caption{Logistic Regression Confusion Matrix}
        \label{fig:confusion-matrix-first-attempt-randfor}
    \end{subfigure}%
    \begin{subfigure}[b]{.45\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/confusion_matrix_basic_features_randfor.png}
        \caption{Random Forest Confusion Matrix}
        \label{fig:confusion-matrix-first-attempt-logreg}
    \end{subfigure}
    \caption{Confusion matrices in the first attempt}
    \label{fig:confusion-matrix-first-attempt}
\end{figure*}

\begin{figure*}[t]
    \centering
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/learning_curve_in-out_features_log_regr.png}
        \caption{Logistic Regression Curve}
        \label{fig:learning-curves-second-attempt-randfor}
    \end{subfigure}%
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/learning_curve_in-out_features_rand_for.png}
        \caption{Random Forest Curve}
        \label{fig:learning-curves-second-attempt-logreg}
    \end{subfigure}
    \caption{Learning curves in the second attempt}
    \label{fig:learning-curves-second-attempt}
\end{figure*}

\begin{figure*}[t]
    \centering
    \begin{subfigure}[b]{.45\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/confusion_matrix_in-out_features_logreg.png}
        \caption{Logistic Regression Confusion Matrix}
        \label{fig:confusion-matrix-second-attempt-randfor}
    \end{subfigure}%
    \begin{subfigure}[b]{.45\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/confusion_matrix_in-out_features_randfor.png}
        \caption{Random Forest Confusion Matrix}
        \label{fig:confusion-matrix-second-attempt-logreg}
    \end{subfigure}
    \caption{Confusion matrices in the second attempt}
    \label{fig:confusion-matrix-second-attempt}
\end{figure*}

\begin{figure*}[t]
    \centering
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/learning_curve_in-out_features_bitrate_log_regr.png}
        \caption{Logistic Regression Curve}
        \label{fig:learning-curves-last-attempt-randfor}
    \end{subfigure}%
    \begin{subfigure}[b]{.5\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/learning_curve_in-out_features_bitrate_randfor.png}
        \caption{Random Forest Curve}
        \label{fig:learning-curves-last-attempt-logreg}
    \end{subfigure}
    \caption{Learning curves in the last attempt}
    \label{fig:learning-curves-last-attempt}
\end{figure*}

\begin{figure*}[t]
    \centering
    \begin{subfigure}[b]{.45\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/confusion_matrix_in-out_features_bitrate_logreg.png}
        \caption{Logistic Regression Confusion Matrix}
        \label{fig:confusion-matrix-last-attempt-randfor}
    \end{subfigure}%
    \begin{subfigure}[b]{.45\linewidth}
        \centering
        \includegraphics[width=\linewidth]{resources/confusion_matrix_in-out_features_bitrate_randfor.png}
        \caption{Random Forest Confusion Matrix}
        \label{fig:confusion-matrix-last-attempt-logreg}
    \end{subfigure}
    \caption{Confusion matrices in the last attempt}
    \label{fig:confusion-matrix-last-attempt}
\end{figure*}

\input{sections/method.tex}

\input{sections/results.tex}
\input{sections/conclusion.tex}
\input{sections/improvements.tex}


\bibliographystyle{unsrtnat} % Cannot upload \bibliographystyle{IEEEtran}, don't know why
\bibliography{bibliography}

\end{document}
